# 跳表实际应用-------海量数据排序

- 首先说一下海量数据排序，记得之前大学时面阿里游戏给出类似问题，当时并不清楚，还以为说个简单的堆排就能糊弄过去，naive，在有状态的服务器里，我们可以把排序大数据的压力分散到各个请求中，这是一种做法，不过这不在当前的讨论之中，正好刚整理完redis的数据结构就顺便说说跳表来做海量数据排序。

- 具体跳跃表操作可以看之前redis篇做的讲解，其实就是按照顺序排序从左到右从按照需求排序对象，之后可以实现log（n）的各种操作（添加删除查找等）。

- 以跳跃表排序空间复杂度每个节点可能会多出层数指针和一个跨度，所以其实大概是在2n最坏是n*logn的情况。

- 因为要排序结合功能，要实现多级排序，可以重载节点的排序符号，来实现多级排序。跳跃表做大数量级排序比如几千万这种，可能程序启动会很慢，可以将其放到共享内存里（待商榷），之后每次启动后就不用重新载入数据。

- 可以把排序单独做出一个服务器来专门来做成一个服务，可以为不同的服务器进行服务。大概的服务器架构就是在rankserver里单独做出一个存储，用来进行持久化，即跳表的数据落地。之后rankserver去链接网关服务器。一个进程可能有多个排行榜访问，可以使用hashmap+跳表来实现，人的id和分数映射，之后通过id找到分数，再去找排名。
